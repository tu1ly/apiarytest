HOST: http://subdomain.bfx-app-development.com/

--- BuysideFX REST AaaaaaaaaaaaaaaaPI v2 ---

--
Account Resources
--

Get all accounts that are enabled.
GET /accounts
> Accept: application/json; text/javascript
< 304
[
  {
    "account_name": "ABPI",
    "account_no": "ABPI",
    "account_owner_id": 3,
    "base_currency_id": 161,
    "custody_bank_id": 3,
    "id": 2,
    "is_nettable": true,
    "min_nettable_value_in_base_ccy": "100000.0",
    "valid_from": "2013-03-04T00:00:00Z",
    "valid_thru": null
  },
  {
    "account_name": "ACCC",
    "account_no": "ACCC",
    "account_owner_id": 5,
    "base_currency_id": 23,
    "custody_bank_id": 8,
    "id": 3,
    "is_nettable": true,
    "min_nettable_value_in_base_ccy": "100000.0",
    "valid_from": "2013-03-04T00:00:00Z",
    "valid_thru": null
  }
]

--
Bank Resources
--

Get all enabled and approved banks for each venue.
GET /approved_banks
> Accept: application/json; text/javascript
< 304
[
  {
    "id": 13,
    "name": "Barclays",
    "abbreviation": "BARX",
    "contact_name": null,
    "phone": null,
    "valid_from": "2013-03-08T00:00:00Z",
    "valid_thru": null,
    "credit_limit_currency_id": 37,
    "credit_limit": "1000000000.0",
    "venue": "SDP"
  },
  {
    "id": 1,
    "name": "BBH Bank",
    "abbreviation": "BBH",
    "contact_name": null,
    "phone": null,
    "valid_from": "2013-03-04T00:00:00Z",
    "valid_thru": null,
    "credit_limit_currency_id": 45,
    "credit_limit": "1000000000.0",
    "venue": "FXA"
  }
]

--
Chart Resources
--

Get single type of chart on an order. This returns a PNG loaded from a BLOB.
GET /show_chart/:id
> Accept: application/json; text/javascript
< 200
{ "data": "BLOBDATA" }

--
Currency Pair Resources
--

Get all currency pairs
GET /currency_pairs
> Accept: application/json; text/javascript
< 200
[
  {
    "base_currency": "AUD",
    "id": 19,
    "latest_price": "1.03955",
    "latest_price_date": "2013-01-31T22: 06: 05Z",
    "latest_price_source": "temp_fxcm_load",
    "quote_currency": "CAD",
    "settlement": "T+2"
  },
  {
    "base_currency": "AUD",
    "id": 57,
    "latest_price": "5.738756",
    "latest_price_date": "2013-01-31T18: 59: 59Z",
    "latest_price_source": "temp_fxcm_load",
    "quote_currency": "DKK",
    "settlement": "T+2"
  }
]

Get a single currency pair
GET /currency_pairs/:id
> Accept: application/json; text/javascript
< 304
{
  "base_currency": "EUR",
  "id": 3,
  "latest_price": "1.3575",
  "latest_price_date": "2013-01-31T22:06:20Z",
  "latest_price_source": "temp_fxcm_load",
  "quote_currency": "USD",
  "settlement": "T+2"
}

Get all enabled currency pairs that are available to a particular account.
GET /currency_pairs/:id/for_account
> Accept: application/json; text/javascript
< 304
[
  {
    "base_currency": "AUD",
    "id": 19,
    "latest_price": "1.03955",
    "latest_price_date": "2013-01-31T22:06:05Z",
    "latest_price_source": "temp_fxcm_load",
    "quote_currency": "CAD",
    "settlement": "T+2"
  },
  {
    "base_currency": "AUD",
    "id": 20,
    "latest_price": null,
    "latest_price_date": null,
    "latest_price_source": null,
    "quote_currency": "NZD",
    "settlement": "T+2"
  }
]

--
Report Resources
--

Get the first x number of orders that have been executed. Returns data in the correct format needed for the datatables plugin.
This resources communicates directly with the table to build the rows and columns based on the data returned.
GET /reports
> Accept: application/json; text/javascript
< 200
< Content-Type: application/json; charset=utf-8
{
  "sEcho": 1,
  "iTotalRecords": 4161,
  "iTotalDisplayRecords": 4161,
  "aaData": [
    [
      "2013-01-02 08:00:00",
      "INTC-1001",
      "INTC",
      "SPOT",
      "GBPUSD",
      "2013-01-02",
      "2013-01-04",
      "2013-0102 12:00:00",
      "SELL",
      "6,087.56",
      "GBP",
      "JPM_C",
      "1.63",
      "<a class='chart-link' href='#' data-chart='[{\"chart_id\":3450,\"chart_description\":\"Executions vs. Mid by Currency Pair\",\"currency_pair\":\"GBP/USD\",\"option_text\":\"Executions vs. Mid by Currency Pair [GBP/USD]\",\"option_value\":\"3450;Executions vs. Mid by Currency Pair\"},{\"chart_id\":3451,\"chart_description\":\"Executions vs. Bid/Ask by Currency Pair\",\"currency_pair\":\"GBP/USD\",\"option_text\":\"Executions vs. Bid/Ask by Currency Pair [GBP/USD]\",\"option_value\":\"3451;Executions vs. Bid/Ask by Currency Pair\"},{\"chart_id\":4533,\"chart_description\":\"Pips from Mid by Currency Pair\",\"currency_pair\":\"GBP/USD\",\"option_text\":\"Pips from Mid by Currency Pair [GBP/USD]\",\"option_value\":\"4533;Pips from Mid by Currency Pair\"}]'>View</a>"
    ],
    [
      "2013-01-02 08:00:00",
      "MEXF-2251",
      "MEXF",
      "SPOT",
      "JPYGBP",
      "2013-01-02",
      "2013-01-08",
      "2013-0102 12:00:00",
      "SELL",
      "721,378.96",
      "JPY",
      "SSB",
      "0.01",
      "<a class='chart-link' href='#' data-chart='[{\"chart_id\":3456,\"chart_description\":\"Executions vs. Mid by Currency Pair\",\"currency_pair\":\"JPY/GBP\",\"option_text\":\"Executions vs. Mid by Currency Pair [JPY/GBP]\",\"option_value\":\"3456;Executions vs. Mid by Currency Pair\"},{\"chart_id\":3457,\"chart_description\":\"Executions vs. Bid/Ask by Currency Pair\",\"currency_pair\":\"JPY/GBP\",\"option_text\":\"Executions vs. Bid/Ask by Currency Pair [JPY/GBP]\",\"option_value\":\"3457;Executions vs. Bid/Ask by Currency Pair\"},{\"chart_id\":4537,\"chart_description\":\"Pips from Mid by Currency Pair\",\"currency_pair\":\"JPY/GBP\",\"option_text\":\"Pips from Mid by Currency Pair [JPY/GBP]\",\"option_value\":\"4537;Pips from Mid by Currency Pair\"}]'>View</a>"
    ]
  ]
}

--
Tenor Resources
--

Get all tenors for a particular curency pair and trade date.
POST /tenors
> Accept: application/json; text/javascript
{
  "currency_pair_id": 3,
  "trade_date": "2013-04-01"
}
< 200
< Content-Type: application/json; charset=utf-8
[
  {
    "id": 19,
    "tenor_short_code": "SPOT",
    "near_date": "2013-04-03",
    "far_date": "2013-04-03",
    "tenor_order": "3"
  },
  {
    "id": 21,
    "tenor_short_code": "1W",
    "near_date": "2013-04-03",
    "far_date": "2013-04-10",
    "tenor_order": "5"
  }
]

Get a single near tenor based on currency pair, near date, and trade date.
POST /tenors/near
> Accept: application/json; text/javascript
{
  "currency_pair_id": 13,
  "near_date": "2013-04-03",
  "trade_date": "2013-04-01"
}
< 200
< Content-Type: application/json; charset=utf-8
{ "tenor_id": 19 }

Get a single far tenor based on currency pair, far date, and trade date.
POST /tenors/far
> Accept: application/json; text/javascript
{
  "currency_pair_id": 13,
  "far_date": "2013-04-17",
  "trade_date": "2013-04-01"
}
< 200
< Content-Type: application/json; charset=utf-8
{ "tenor_id": 22 }

Get the current trade. The :id value should be the id of the currency pair selected.
In the near future this will be moved outside of thirt resources because it doesnt make sense here.
GET /tenors/get_trade_date/:id
> Accept: application/json; text/javascript
< 304
{ "trade_date": "2013-04-01" }

--
Thrift Resources
The following resources are used to make Thrift calls, which communicate with the Apama backend. These requests should be made for requesting prices and executing orders.
--

Request quotes for a single order. This simply triggers the call to Apama for requesting prices, all prices will be sent
to the queue can will come back to the GUI through websockets.
GET /start_quote/:id
> Accept: application/json; text/javascript
< 200
{
  "strUserId": "BFX1355157066",
  "strProvider": "BANK1",
  "objectId": 10087,
  "nearSpotBid": "1.29365",
  "nearSpotAsk": "1.29375",
  "nearFwdPtsBid": "0.00",
  "nearFwdPtsAsk": "0.00",
  "nearAllInBid": "1.29365",
  "nearAllInAsk": "1.29375",
  "farSpotBid": "",
  "farSpotAsk": "",
  "farFwdPtsBid": "",
  "farFwdPtsAsk": "",
  "farAllInBid": "",
  "farAllInAsk": ""
}

Stop quotes for a single order. This simply triggers the call to Apama for stopping prices from being requested.
Nothing is actually returned except for a 200 response.
GET /stop_quote/:id
> Accept: application/json; text/javascript
< 200
{ "null": null }

Use this thrift call to execute an order. This data comes in through the queue and is pushed to the front-end using websockets.
GET /request_order/:id
> Accept: application/json; text/javascript
< 200
{
  "strUserId": "BFX1355234783",
  "strProvider": "BANK2",
  "objectId": 13824,
  "nearSpotBid": "1.30036",
  "nearSpotAsk": "1.30045",
  "nearFwdPtsBid": "0.00",
  "nearFwdPtsAsk": "0.00",
  "nearAllInBid": "1.30036",
  "nearAllInAsk": "1.30045",
  "farSpotBid": "",
  "farSpotAsk": "",
  "farFwdPtsBid": "",
  "farFwdPtsAsk": "",
  "farAllInBid": "",
  "farAllInAsk": ""
}

--
Order Resources
The following is a section of resources related to Orders.
--

List orders. This returns to-do orders and orders that have been executed within the last 48 hours.
GET /trades
> Accept: application/json; text/javascript
< 200
< Content-Type: application/json; charset=utf-8
{
  "orders": "[{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10012,\"input_date\":\"2013-03-29T19:00:02Z\",\"locked\":false,\"oms_number\":\"INTC-9488\",\"order_source\":\"Marathon\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-03-29\",\"ts\":\"2013-03-29T19:00:02Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":2250000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10013,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10012,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":\"2013-04-03\",\"order_accounts\":[{\"account_id\":62,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":2250000.0,\"fwd_pts\":null,\"id\":10547,\"order_leg_id\":10013,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"INTC\",\"account_no\":\"INTC\",\"account_owner_id\":37,\"base_currency_id\":8,\"custody_bank_id\":7,\"id\":62,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"JPMCust\",\"bank_id\":6,\"contact_name\":null,\"id\":7,\"name\":\"JPM Custody\",\"phone\":null,\"trade_away_fee_usd\":50,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":6,\"id\":6486,\"name\":\"JPM_C\",\"order_id\":10012,\"venue_id\":1,\"bank\":{\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":6,\"name\":\"JPM_C Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":7,\"id\":6476,\"name\":\"NT\",\"order_id\":10012,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":9,\"id\":6484,\"name\":\"SSB\",\"order_id\":10012,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]}]",
  "filled_orders": "[{\"ccy_base\":\"HKD\",\"ccy_contra\":\"CAD\",\"ccy_dealt\":\"HKD\",\"ccy_pair\":\"HKDCAD\",\"ccy_term\":\"CAD\",\"counterparty_id\":9,\"currency_pair_id\":51,\"execution_timestamp\":\"2013-01-02T12:00:00Z\",\"id\":6575,\"input_date\":\"2013-01-02T08:00:00Z\",\"locked\":false,\"oms_number\":\"MCS-2412\",\"order_source\":\"Marathon\",\"order_status\":\"FO\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-01-02\",\"ts\":\"2013-01-02T08:00:00Z\",\"ts_timezone\":\"GMT\",\"user_id\":2,\"order_legs\":[{\"all_in_price\":\"0.12701094\",\"buy_sell_base\":\"SELL\",\"contra_quantity\":320.2999988202,\"dealt_quantity\":2521.83,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":6575,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":6575,\"side\":\"SELL\",\"spot_price\":\"0.12701094\",\"tenor_id\":19,\"value_date\":\"2013-01-04\",\"order_accounts\":[{\"account_id\":45,\"all_in_price\":\"0.12701094\",\"buy_sell_base\":\"SELL\",\"contra_quantity\":320.29999882019996,\"dealt_quantity\":2521.83,\"fwd_pts\":null,\"id\":6575,\"order_leg_id\":6575,\"side\":\"SELL\",\"spot_price\":\"0.12701094\",\"account\":{\"account_name\":\"MCS\",\"account_no\":\"MCS\",\"account_owner_id\":64,\"base_currency_id\":25,\"custody_bank_id\":10,\"id\":45,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[{\"all_in_price\":\"0.12701094\",\"contra_quantity\":320.2999988,\"contra_quantity_check\":320.2999988202,\"counterparty_id\":9,\"dealt_quantity\":2521.83,\"execution_timestamp\":\"2013-03-06T22:52:59Z\",\"external_counterparty_name\":\"SSB\",\"fwd_pts\":null,\"id\":6573,\"order_leg_id\":6575,\"provider_message_object_id\":null,\"side\":\"SELL\",\"spot_price\":\"0.12701094\",\"venue_id\":1}]}],\"order_banks\":[],\"provider_message_objects\":[{\"far_all_in_ask\":null,\"far_all_in_bid\":null,\"far_contra_quantity\":null,\"far_forward_points_ask\":null,\"far_forward_points_bid\":null,\"far_side\":null,\"far_spot_ask\":null,\"far_spot_bid\":null,\"id\":6573,\"message_type\":\"DealLogged\",\"near_all_in_ask\":\"0.12701094\",\"near_all_in_bid\":\"0.12701094\",\"near_contra_quantity\":\"0.00032029999880000000\",\"near_forward_points_ask\":null,\"near_forward_points_bid\":null,\"near_side\":\"SELL\",\"near_spot_ask\":\"0.12701094\",\"near_spot_bid\":\"0.12701094\",\"order_detail\":null,\"order_id\":6575,\"provider\":\"SSB\",\"ts\":\"2013-03-06T17:58:39Z\",\"user_order_id\":null}]}]"
}

Return a single order for editing. For now that only includes the ability to edit counterparties.
This is used to return an order that you will request quotes for. The banks array is all enabled banks that
an order can receive prices from. :id is the ID of the Order record.
GET /trades/:id/edit
> Accept: application/json; text/javascript
< 200
< Content-Type: application/json; charset=utf-8
{
  "order": "{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10021,\"input_date\":\"2013-03-29T19:00:02Z\",\"locked\":false,\"oms_number\":\"MNGF-9497\",\"order_source\":\"Marathon\",\"order_status\":\"SO\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":\"2013-03-29T16:00:00Z\",\"trade_date\":\"2013-03-29\",\"ts\":\"2013-03-29T19:00:02Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"BUY\",\"contra_quantity\":null,\"dealt_quantity\":250000.0,\"exec_bid_ask\":\"ASK\",\"fwd_pts\":null,\"id\":10022,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10021,\"side\":\"BUY\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":\"2013-04-03\",\"order_accounts\":[{\"account_id\":26,\"all_in_price\":null,\"buy_sell_base\":\"BUY\",\"contra_quantity\":null,\"dealt_quantity\":250000.0,\"fwd_pts\":null,\"id\":10556,\"order_leg_id\":10022,\"side\":\"BUY\",\"spot_price\":null,\"account\":{\"account_name\":\"MNGF\",\"account_no\":\"MNGF\",\"account_owner_id\":44,\"base_currency_id\":37,\"custody_bank_id\":10,\"id\":26,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":9,\"id\":6474,\"name\":\"SSB\",\"order_id\":10021,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]}",
  "banks": "[{\"id\":13,\"name\":\"Barclays\",\"abbreviation\":\"BARX\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-08T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":37,\"credit_limit\":\"1000000000.0\",\"venue\":\"SDP\"},{\"id\":1,\"name\":\"BBH Bank\",\"abbreviation\":\"BBH\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":45,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":2,\"name\":\"BNPL Bank\",\"abbreviation\":\"BNPL\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":161,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":3,\"name\":\"BNYM Bank\",\"abbreviation\":\"BNYM\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-05T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":26,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":4,\"name\":\"CIBC Bank\",\"abbreviation\":\"CIBC\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":25,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":5,\"name\":\"DANSKE Bank\",\"abbreviation\":\"DANSKE\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":23,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":12,\"name\":\"Deutsche Bank\",\"abbreviation\":\"DB\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-08T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":26,\"credit_limit\":\"1000000000.0\",\"venue\":\"SDP\"},{\"id\":10,\"name\":\"HSBC\",\"abbreviation\":\"HSBC\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-08T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":7,\"credit_limit\":\"1000000000.0\",\"venue\":\"SDP\"},{\"id\":6,\"name\":\"JPM_C Bank\",\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":23,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":7,\"name\":\"NT Bank\",\"abbreviation\":\"NT\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":23,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":8,\"name\":\"RBCD Bank\",\"abbreviation\":\"RBCD\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":161,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":9,\"name\":\"SSB Bank\",\"abbreviation\":\"SSB\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":23,\"credit_limit\":\"1000000000.0\",\"venue\":\"FXA\"},{\"id\":11,\"name\":\"UBS\",\"abbreviation\":\"UBS\",\"contact_name\":null,\"phone\":null,\"valid_from\":\"2013-03-08T00:00:00Z\",\"valid_thru\":null,\"credit_limit_currency_id\":23,\"credit_limit\":\"1000000000.0\",\"venue\":\"SDP\"}]"
}

Set the counterpy(ies) on an order.
POST /trades/:id/change_counterparties
> Accept: application/json; text/javascript
{
  "counterparties": [
    "BNYM"
  ]
}
< 200
[
  {
    "bank_id": 3,
    "id": 10639,
    "name": "BNYM",
    "order_id": 10909,
    "venue_id": 1,
    "bank": {
      "abbreviation": "BNYM",
      "contact_name": null,
      "credit_limit": "1000000000.0",
      "credit_limit_currency_id": 26,
      "id": 3,
      "name": "BNYM Bank",
      "phone": null,
      "valid_from": "2013-03-05T00:00:00Z",
      "valid_thru": null
    }
  }
]

Create a new order.
POST /trades
{
  "account_id": 49,
  "ccy_dealt": "EUR",
  "counterparties": [
    "BYNM"
  ],
  "currency_pair_id": 3,
  "far_date": null,
  "far_quantity": null,
  "far_tenor_id": 0,
  "near_date": "2013-04-03",
  "near_quantity": "5000000.00",
  "near_tenor_id": 19,
  "order_status": "NO",
  "order_type": "SPOT",
  "side": "BUY",
  "trade_date": "2013-04-01"
}
< 201
[
  {
    "ccy_base": "EUR",
    "ccy_contra": "USD",
    "ccy_dealt": "EUR",
    "ccy_pair": "EUR/USD",
    "ccy_term": "USD",
    "counterparty_id": null,
    "currency_pair_id": 3,
    "execution_timestamp": null,
    "id": 10922,
    "input_date": "2013-04-01T16:32:41Z",
    "locked": false,
    "oms_number": "BFX-220",
    "order_source": "GUI",
    "order_status": "WO-RR",
    "order_sub_status": null,
    "order_sub_type": null,
    "order_type": "SPOT",
    "scheduled_time": null,
    "trade_date": "2013-04-01",
    "ts": "2013-04-01T16:32:41Z",
    "ts_timezone": "GMT",
    "user_id": 1,
    "order_legs": [
      {
        "all_in_price": null,
        "buy_sell_base": "BUY",
        "contra_quantity": null,
        "dealt_quantity": 5000000,
        "exec_bid_ask": "ASK",
        "fwd_pts": null,
        "id": 10923,
        "mult_or_divide": "M",
        "near_far_indicator": "N",
        "order_id": 10922,
        "side": "BUY",
        "spot_price": null,
        "tenor_id": 19,
        "value_date": "2013-04-03",
        "order_accounts": [
          {
            "account_id": 49,
            "all_in_price": null,
            "buy_sell_base": "BUY",
            "contra_quantity": null,
            "dealt_quantity": 5000000,
            "fwd_pts": null,
            "id": 11492,
            "order_leg_id": 10923,
            "side": "BUY",
            "spot_price": null,
            "account": {
              "account_name": "MCER",
              "account_no": "MCER",
              "account_owner_id": 61,
              "base_currency_id": 23,
              "custody_bank_id": 8,
              "id": 49,
              "is_nettable": true,
              "min_nettable_value_in_base_ccy": "100000.0",
              "valid_from": "2013-03-04T00:00:00Z",
              "valid_thru": null,
              "custody_bank": {
                "abbreviation": "NTCust",
                "bank_id": 7,
                "contact_name": null,
                "id": 8,
                "name": "NT Custody",
                "phone": null,
                "trade_away_fee_usd": 75,
                "valid_from": "2013-03-04T00:00:00Z",
                "valid_thru": null
              }
            }
          }
        ]
      }
    ],
    "order_banks": [
      {
        "bank_id": 3,
        "id": 10641,
        "name": "BNYM",
        "order_id": 10922,
        "venue_id": 1,
        "bank": {
          "abbreviation": "BNYM",
          "contact_name": null,
          "credit_limit": "1000000000.0",
          "credit_limit_currency_id": 26,
          "id": 3,
          "name": "BNYM Bank",
          "phone": null,
          "valid_from": "2013-03-05T00:00:00Z",
          "valid_thru": null
        }
      }
    ]
  }
]

View a single order. This only applies to filled orders.
GET /trades/:id
> Accept: application/json; text/javascript
< 304
< Content-Type: application/json; charset=utf-8
{
  "order": "{\"ccy_base\":\"HKD\",\"ccy_contra\":\"CAD\",\"ccy_dealt\":\"HKD\",\"ccy_pair\":\"HKDCAD\",\"ccy_term\":\"CAD\",\"counterparty_id\":9,\"currency_pair_id\":51,\"execution_timestamp\":\"2013-01-02T12:00:00Z\",\"id\":6575,\"input_date\":\"2013-01-02T08:00:00Z\",\"locked\":false,\"oms_number\":\"MCS-2412\",\"order_source\":\"Marathon\",\"order_status\":\"FO\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-01-02\",\"ts\":\"2013-01-02T08:00:00Z\",\"ts_timezone\":\"GMT\",\"user_id\":2,\"order_legs\":[{\"all_in_price\":\"0.12701094\",\"buy_sell_base\":\"SELL\",\"contra_quantity\":320.2999988202,\"dealt_quantity\":2521.83,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":6575,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":6575,\"side\":\"SELL\",\"spot_price\":\"0.12701094\",\"tenor_id\":19,\"value_date\":\"2013-01-04\",\"order_accounts\":[{\"account_id\":45,\"all_in_price\":\"0.12701094\",\"buy_sell_base\":\"SELL\",\"contra_quantity\":320.29999882019996,\"dealt_quantity\":2521.83,\"fwd_pts\":null,\"id\":6575,\"order_leg_id\":6575,\"side\":\"SELL\",\"spot_price\":\"0.12701094\",\"account\":{\"account_name\":\"MCS\",\"account_no\":\"MCS\",\"account_owner_id\":64,\"base_currency_id\":25,\"custody_bank_id\":10,\"id\":45,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[{\"all_in_price\":\"0.12701094\",\"contra_quantity\":320.2999988,\"contra_quantity_check\":320.2999988202,\"counterparty_id\":9,\"dealt_quantity\":2521.83,\"execution_timestamp\":\"2013-03-06T22:52:59Z\",\"external_counterparty_name\":\"SSB\",\"fwd_pts\":null,\"id\":6573,\"order_leg_id\":6575,\"provider_message_object_id\":null,\"side\":\"SELL\",\"spot_price\":\"0.12701094\",\"venue_id\":1}]}],\"order_banks\":[],\"provider_message_objects\":[{\"far_all_in_ask\":null,\"far_all_in_bid\":null,\"far_contra_quantity\":null,\"far_forward_points_ask\":null,\"far_forward_points_bid\":null,\"far_side\":null,\"far_spot_ask\":null,\"far_spot_bid\":null,\"id\":6573,\"message_type\":\"DealLogged\",\"near_all_in_ask\":\"0.12701094\",\"near_all_in_bid\":\"0.12701094\",\"near_contra_quantity\":\"0.00032029999880000000\",\"near_forward_points_ask\":null,\"near_forward_points_bid\":null,\"near_side\":\"SELL\",\"near_spot_ask\":\"0.12701094\",\"near_spot_bid\":\"0.12701094\",\"order_detail\":null,\"order_id\":6575,\"provider\":\"SSB\",\"ts\":\"2013-03-06T17:58:39Z\",\"user_order_id\":null}]}",
  "prices": "[]"
}

Scheduling to request prices on an order.
PUT /trades/:id/schedule
> Accept: application/json; text/javascript
{
  "order": {
    "order_status": "SO",
    "scheduled_time": "2013-03-30 12:00:00 GMT"
  }
}
< 201
< Content-Type: application/json; charset=utf-8
{
  "data": {
    "ccy_base": "GBP",
    "ccy_contra": "USD",
    "ccy_dealt": "GBP",
    "ccy_pair": "GBPUSD",
    "ccy_term": "USD",
    "counterparty_id": null,
    "currency_pair_id": 5,
    "execution_timestamp": null,
    "id": 10297,
    "input_date": "2013-03-30T18:00:02Z",
    "locked": false,
    "oms_number": "LPG5-9762",
    "order_source": "Marathon",
    "order_status": "SO",
    "order_sub_status": null,
    "order_sub_type": null,
    "order_type": "SPOT",
    "scheduled_time": "2013-03-30T12:00:00Z",
    "trade_date": "2013-03-30",
    "ts": "2013-03-30T18:00:01Z",
    "ts_timezone": "GMT",
    "user_id": 3
  }
}

--
Netting Orders Resources
The following is a section of resources related to netting orders.
--

Create new netted order(s).
POST /net_trades
> Accept: application/json; text/javascript
{ "order_ids": [10298 , 10306, 10305] }
< 200
< Content-Type: application/json; charset=utf-8
{
  "message": "8 orders have been processed into 2 potentially nettable orders. 2 orders could not be netted. To clear, select the 'Clearnet' button.",
  "new_netted_orders": "[{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10302,\"input_date\":\"2013-03-30T18:00:02Z\",\"locked\":false,\"oms_number\":\"MCER-9767\",\"order_source\":\"Marathon\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-03-30\",\"ts\":\"2013-03-30T18:00:01Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":10000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10303,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10302,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":null,\"order_accounts\":[{\"account_id\":49,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":10000.0,\"fwd_pts\":null,\"id\":10837,\"order_leg_id\":10303,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"MCER\",\"account_no\":\"MCER\",\"account_owner_id\":61,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":49,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":7,\"id\":7707,\"name\":\"NT\",\"order_id\":10302,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]},{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10304,\"input_date\":\"2013-03-30T18:00:02Z\",\"locked\":false,\"oms_number\":\"OPSE-9769\",\"order_source\":\"Marathon\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-03-30\",\"ts\":\"2013-03-30T18:00:01Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"BUY\",\"contra_quantity\":null,\"dealt_quantity\":20000.0,\"exec_bid_ask\":\"ASK\",\"fwd_pts\":null,\"id\":10305,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10304,\"side\":\"BUY\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":null,\"order_accounts\":[{\"account_id\":19,\"all_in_price\":null,\"buy_sell_base\":\"BUY\",\"contra_quantity\":null,\"dealt_quantity\":20000.0,\"fwd_pts\":null,\"id\":10839,\"order_leg_id\":10305,\"side\":\"BUY\",\"spot_price\":null,\"account\":{\"account_name\":\"OPSE\",\"account_no\":\"OPSE\",\"account_owner_id\":33,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":19,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":7,\"id\":7705,\"name\":\"NT\",\"order_id\":10304,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]},{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10310,\"input_date\":\"2013-03-30T14:46:50Z\",\"locked\":false,\"oms_number\":\"BFX-209\",\"order_source\":\"GUI\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":\"AN\",\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-04-01\",\"ts\":\"2013-03-30T14:46:50Z\",\"ts_timezone\":\"GMT\",\"user_id\":1,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":7470000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10311,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10310,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":null,\"value_date\":null,\"order_accounts\":[{\"account_id\":35,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":300000.0,\"fwd_pts\":null,\"id\":10855,\"order_leg_id\":10311,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"MGEF\",\"account_no\":\"MGEF\",\"account_owner_id\":58,\"base_currency_id\":23,\"custody_bank_id\":10,\"id\":35,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}},{\"account_id\":10,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":4890000.0,\"fwd_pts\":null,\"id\":10854,\"order_leg_id\":10311,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"TMAF\",\"account_no\":\"TMAF\",\"account_owner_id\":14,\"base_currency_id\":23,\"custody_bank_id\":10,\"id\":10,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}},{\"account_id\":33,\"all_in_price\":null,\"buy_sell_base\":\"BUY\",\"contra_quantity\":null,\"dealt_quantity\":1450000.0,\"fwd_pts\":null,\"id\":10853,\"order_leg_id\":10311,\"side\":\"BUY\",\"spot_price\":null,\"account\":{\"account_name\":\"MGIT\",\"account_no\":\"MGIT\",\"account_owner_id\":54,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":33,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}},{\"account_id\":33,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":180000.0,\"fwd_pts\":null,\"id\":10852,\"order_leg_id\":10311,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"MGIT\",\"account_no\":\"MGIT\",\"account_owner_id\":54,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":33,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}},{\"account_id\":19,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":1300000.0,\"fwd_pts\":null,\"id\":10851,\"order_leg_id\":10311,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"OPSE\",\"account_no\":\"OPSE\",\"account_owner_id\":33,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":19,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}},{\"account_id\":62,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":2250000.0,\"fwd_pts\":null,\"id\":10850,\"order_leg_id\":10311,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"INTC\",\"account_no\":\"INTC\",\"account_owner_id\":37,\"base_currency_id\":8,\"custody_bank_id\":7,\"id\":62,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"JPMCust\",\"bank_id\":6,\"contact_name\":null,\"id\":7,\"name\":\"JPM Custody\",\"phone\":null,\"trade_away_fee_usd\":50,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":7,\"id\":7711,\"name\":\"NT\",\"order_id\":10310,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":6,\"id\":7706,\"name\":\"JPM_C\",\"order_id\":10310,\"venue_id\":1,\"bank\":{\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":6,\"name\":\"JPM_C Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":9,\"id\":7704,\"name\":\"SSB\",\"order_id\":10310,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]}]"
}

Update an order. This removes a child or multiple children from a netted order and rebuilds it.
PUT /net_trades/:id
> Accept: application/json; text/javascript
{
  "order_ids": [
    10320,
    10315
  ],
  "original_number_of_children": 3,
  "original_order_ids": [
    10316,
    10320,
    10315
  ]
}
< 200
< Content-Type: application/json; charset=utf-8
{
  "message": "Netted order successfully updated. You removed 1 order. 2 orders have been processed into 1 potentially nettable order.",
  "new_orders": "[{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10316,\"input_date\":\"2013-03-30T19:00:01Z\",\"locked\":false,\"oms_number\":\"MGIT-9778\",\"order_source\":\"Marathon\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-03-30\",\"ts\":\"2013-03-30T19:00:01Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":180000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10317,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10316,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":null,\"order_accounts\":[{\"account_id\":33,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":180000.0,\"fwd_pts\":null,\"id\":10862,\"order_leg_id\":10317,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"MGIT\",\"account_no\":\"MGIT\",\"account_owner_id\":54,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":33,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":9,\"id\":7998,\"name\":\"SSB\",\"order_id\":10316,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":6,\"id\":8000,\"name\":\"JPM_C\",\"order_id\":10316,\"venue_id\":1,\"bank\":{\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":6,\"name\":\"JPM_C Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":7,\"id\":8009,\"name\":\"NT\",\"order_id\":10316,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]},{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10327,\"input_date\":\"2013-03-30T15:02:31Z\",\"locked\":false,\"oms_number\":\"BFX-214\",\"order_source\":\"GUI\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":\"AN\",\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-04-01\",\"ts\":\"2013-03-30T15:02:30Z\",\"ts_timezone\":\"GMT\",\"user_id\":1,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":6190000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10328,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10327,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":null,\"value_date\":null,\"order_accounts\":[{\"account_id\":10,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":4890000.0,\"fwd_pts\":null,\"id\":10882,\"order_leg_id\":10328,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"TMAF\",\"account_no\":\"TMAF\",\"account_owner_id\":14,\"base_currency_id\":23,\"custody_bank_id\":10,\"id\":10,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}},{\"account_id\":19,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":1300000.0,\"fwd_pts\":null,\"id\":10881,\"order_leg_id\":10328,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"OPSE\",\"account_no\":\"OPSE\",\"account_owner_id\":33,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":19,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":6,\"id\":7991,\"name\":\"JPM_C\",\"order_id\":10327,\"venue_id\":1,\"bank\":{\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":6,\"name\":\"JPM_C Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":9,\"id\":7993,\"name\":\"SSB\",\"order_id\":10327,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":7,\"id\":7999,\"name\":\"NT\",\"order_id\":10327,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]}]"
}

Get children of a single netted order.
GET /net_trades/:id
> Accept: application/json; text/javascript
< 200
< Content-Type: application/json; charset=utf-8
[
  {
    "ccy_base": "GBP",
    "ccy_contra": "USD",
    "ccy_dealt": "GBP",
    "ccy_pair": "GBPUSD",
    "ccy_term": "USD",
    "counterparty_id": null,
    "currency_pair_id": 5,
    "execution_timestamp": null,
    "id": 10298,
    "input_date": "2013-03-30T18:00:02Z",
    "locked": false,
    "oms_number": "LPG5-9763",
    "order_source": "Marathon",
    "order_status": "CO",
    "order_sub_status": null,
    "order_sub_type": "BN",
    "order_type": "SPOT",
    "scheduled_time": null,
    "trade_date": "2013-03-30",
    "ts": "2013-03-30T18:00:01Z",
    "ts_timezone": "GMT",
    "user_id": 3,
    "order_legs": [
      {
        "all_in_price": null,
        "buy_sell_base": "SELL",
        "contra_quantity": null,
        "dealt_quantity": 15000000,
        "exec_bid_ask": "BID",
        "fwd_pts": null,
        "id": 10299,
        "mult_or_divide": "M",
        "near_far_indicator": "N",
        "order_id": 10298,
        "side": "SELL",
        "spot_price": null,
        "tenor_id": 19,
        "value_date": null,
        "order_accounts": [
          {
            "account_id": 54,
            "all_in_price": null,
            "buy_sell_base": "SELL",
            "contra_quantity": null,
            "dealt_quantity": 15000000,
            "fwd_pts": null,
            "id": 10833,
            "order_leg_id": 10299,
            "side": "SELL",
            "spot_price": null,
            "account": {
              "account_name": "LPG5",
              "account_no": "LPG5",
              "account_owner_id": 56,
              "base_currency_id": 23,
              "custody_bank_id": 5,
              "id": 54,
              "is_nettable": true,
              "min_nettable_value_in_base_ccy": "100000.0",
              "valid_from": "2013-03-04T00:00:00Z",
              "valid_thru": null,
              "custody_bank": {
                "abbreviation": "DANSKCust",
                "bank_id": 5,
                "contact_name": null,
                "id": 5,
                "name": "DANSKE Custody",
                "phone": null,
                "trade_away_fee_usd": 50,
                "valid_from": "2013-03-04T00:00:00Z",
                "valid_thru": null
              }
            }
          }
        ],
        "order_executions": []
      }
    ],
    "order_banks": []
  },
  {
    "ccy_base": "GBP",
    "ccy_contra": "USD",
    "ccy_dealt": "GBP",
    "ccy_pair": "GBPUSD",
    "ccy_term": "USD",
    "counterparty_id": null,
    "currency_pair_id": 5,
    "execution_timestamp": null,
    "id": 10297,
    "input_date": "2013-03-30T18:00:02Z",
    "locked": false,
    "oms_number": "LPG5-9762",
    "order_source": "Marathon",
    "order_status": "CO",
    "order_sub_status": null,
    "order_sub_type": "BN",
    "order_type": "SPOT",
    "scheduled_time": "2013-03-30T12:00:00Z",
    "trade_date": "2013-03-30",
    "ts": "2013-03-30T18:00:01Z",
    "ts_timezone": "GMT",
    "user_id": 3,
    "order_legs": [
      {
        "all_in_price": null,
        "buy_sell_base": "SELL",
        "contra_quantity": null,
        "dealt_quantity": 13500000,
        "exec_bid_ask": "BID",
        "fwd_pts": null,
        "id": 10298,
        "mult_or_divide": "M",
        "near_far_indicator": "N",
        "order_id": 10297,
        "side": "SELL",
        "spot_price": null,
        "tenor_id": 19,
        "value_date": null,
        "order_accounts": [
          {
            "account_id": 54,
            "all_in_price": null,
            "buy_sell_base": "SELL",
            "contra_quantity": null,
            "dealt_quantity": 13500000,
            "fwd_pts": null,
            "id": 10832,
            "order_leg_id": 10298,
            "side": "SELL",
            "spot_price": null,
            "account": {
              "account_name": "LPG5",
              "account_no": "LPG5",
              "account_owner_id": 56,
              "base_currency_id": 23,
              "custody_bank_id": 5,
              "id": 54,
              "is_nettable": true,
              "min_nettable_value_in_base_ccy": "100000.0",
              "valid_from": "2013-03-04T00:00:00Z",
              "valid_thru": null,
              "custody_bank": {
                "abbreviation": "DANSKCust",
                "bank_id": 5,
                "contact_name": null,
                "id": 5,
                "name": "DANSKE Custody",
                "phone": null,
                "trade_away_fee_usd": 50,
                "valid_from": "2013-03-04T00:00:00Z",
                "valid_thru": null
              }
            }
          }
        ],
        "order_executions": []
      }
    ],
  "order_banks": []
  }
]

Un-net a single netted order.
DELETE /net_trades/:id
> Accept: application/json; text/javascript
< 200
< Content-Type: application/json; charset=utf-8
{"message":"Netted order cleared successfully"}

Un-net all netted orders that have not been executed, are not scheduled, and are not currently receiving prices.
POST /net_trades/destroy_all
> Accept: application/json; text/javascript
{ "order_ids": [10327] }
< 200
< Content-Type: application/json; charset=utf-8
{
  "message": "Netted orders cleared successfully",
  "new_orders": "[{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10315,\"input_date\":\"2013-03-30T19:00:01Z\",\"locked\":false,\"oms_number\":\"OPSE-9777\",\"order_source\":\"Marathon\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-03-30\",\"ts\":\"2013-03-30T19:00:01Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":1300000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10316,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10315,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":null,\"order_accounts\":[{\"account_id\":19,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":1300000.0,\"fwd_pts\":null,\"id\":10861,\"order_leg_id\":10316,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"OPSE\",\"account_no\":\"OPSE\",\"account_owner_id\":33,\"base_currency_id\":23,\"custody_bank_id\":8,\"id\":19,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"NTCust\",\"bank_id\":7,\"contact_name\":null,\"id\":8,\"name\":\"NT Custody\",\"phone\":null,\"trade_away_fee_usd\":75,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":7,\"id\":8080,\"name\":\"NT\",\"order_id\":10315,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":6,\"id\":8087,\"name\":\"JPM_C\",\"order_id\":10315,\"venue_id\":1,\"bank\":{\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":6,\"name\":\"JPM_C Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":9,\"id\":8089,\"name\":\"SSB\",\"order_id\":10315,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]},{\"ccy_base\":\"EUR\",\"ccy_contra\":\"USD\",\"ccy_dealt\":\"EUR\",\"ccy_pair\":\"EURUSD\",\"ccy_term\":\"USD\",\"counterparty_id\":null,\"currency_pair_id\":3,\"execution_timestamp\":null,\"id\":10320,\"input_date\":\"2013-03-30T19:00:01Z\",\"locked\":false,\"oms_number\":\"TMAF-9782\",\"order_source\":\"Marathon\",\"order_status\":\"WO-RR\",\"order_sub_status\":null,\"order_sub_type\":null,\"order_type\":\"SPOT\",\"scheduled_time\":null,\"trade_date\":\"2013-03-30\",\"ts\":\"2013-03-30T19:00:01Z\",\"ts_timezone\":\"GMT\",\"user_id\":3,\"order_legs\":[{\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":4890000.0,\"exec_bid_ask\":\"BID\",\"fwd_pts\":null,\"id\":10321,\"mult_or_divide\":\"M\",\"near_far_indicator\":\"N\",\"order_id\":10320,\"side\":\"SELL\",\"spot_price\":null,\"tenor_id\":19,\"value_date\":null,\"order_accounts\":[{\"account_id\":10,\"all_in_price\":null,\"buy_sell_base\":\"SELL\",\"contra_quantity\":null,\"dealt_quantity\":4890000.0,\"fwd_pts\":null,\"id\":10866,\"order_leg_id\":10321,\"side\":\"SELL\",\"spot_price\":null,\"account\":{\"account_name\":\"TMAF\",\"account_no\":\"TMAF\",\"account_owner_id\":14,\"base_currency_id\":23,\"custody_bank_id\":10,\"id\":10,\"is_nettable\":true,\"min_nettable_value_in_base_ccy\":\"100000.0\",\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null,\"custody_bank\":{\"abbreviation\":\"SSBCust\",\"bank_id\":9,\"contact_name\":null,\"id\":10,\"name\":\"SSB Custody\",\"phone\":null,\"trade_away_fee_usd\":25,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}}],\"order_executions\":[]}],\"order_banks\":[{\"bank_id\":6,\"id\":8085,\"name\":\"JPM_C\",\"order_id\":10320,\"venue_id\":1,\"bank\":{\"abbreviation\":\"JPM_C\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":6,\"name\":\"JPM_C Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":9,\"id\":8086,\"name\":\"SSB\",\"order_id\":10320,\"venue_id\":1,\"bank\":{\"abbreviation\":\"SSB\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":9,\"name\":\"SSB Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}},{\"bank_id\":7,\"id\":8093,\"name\":\"NT\",\"order_id\":10320,\"venue_id\":1,\"bank\":{\"abbreviation\":\"NT\",\"contact_name\":null,\"credit_limit\":\"1000000000.0\",\"credit_limit_currency_id\":23,\"id\":7,\"name\":\"NT Bank\",\"phone\":null,\"valid_from\":\"2013-03-04T00:00:00Z\",\"valid_thru\":null}}]}]"
}

Get child ids of all netted orders. Used to add orders to an existing netted order.
POST /net_trades/get_child_order_ids
> Accept: application/json; text/javascript
{ "order_ids": [10330] }
< 200
< Content-Type: application/json; charset=utf-8
[
  {
    "id": 10314
  },
  {
    "id": 10315
  },
  {
    "id": 10316
  },
  {
    "id": 10318
  },
  {
    "id": 10320
  }
]

--
Admin Accounts Resources
--

Get all accounts with their child/grandchild model data. This includes boths enabled and disabled accounts.
GET /admin/accounts
> Accept: application/json; text/javascript
< 304
[
  {
    "account_name": "ABBM",
    "account_no": "ABBM",
    "account_owner_id": 1,
    "base_currency_id": 24,
    "custody_bank_id": 3,
    "id": 5,
    "is_nettable": true,
    "min_nettable_value_in_base_ccy": "100000.0",
    "valid_from": "2013-04-01T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "custody_bank": {
      "id": 3,
      "name": "BNYM Custody"
    },
    "account_owner": {
      "id": 1,
      "owner_name": "ABBMOwner",
      "account_owner_currencies": [
        {
          "account_owner_id": 1,
          "currency_id": 8,
          "id": 1,
          "currency": {
            "currency_code": "AUD",
            "id": 8
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 25,
          "id": 2,
          "currency": {
            "currency_code": "CAD",
            "id": 25
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 161,
          "id": 3,
          "currency": {
            "currency_code": "EUR",
            "id": 161
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 37,
          "id": 4,
          "currency": {
            "currency_code": "GBP",
            "id": 37
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 115,
          "id": 5,
          "currency": {
            "currency_code": "HKD",
            "id": 115
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 24,
          "id": 6,
          "currency": {
            "currency_code": "JPY",
            "id": 24
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 23,
          "id": 7,
          "currency": {
            "currency_code": "USD",
            "id": 23
          }
        }
      ]
    },
    "account_groups": [],
    "currency": {
      "currency_code": "JPY",
      "id": 24
    }
  }
]

Get a single account.
GET /admin/accounts/:id
> Accept: application/json; text/javascript
< 200
{
  "account_name": "ABPI",
  "account_no": "ABPI",
  "account_owner_id": 3,
  "base_currency_id": 37,
  "custody_bank_id": 3,
  "id": 2,
  "is_nettable": true,
  "min_nettable_value_in_base_ccy": "100000.0",
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "custody_bank": {
    "id": 3,
    "name": "BNYM Custody"
  },
  "account_owner": {
    "id": 3,
    "owner_name": "ABPIOwner",
    "account_owner_currencies": [
      {
        "account_owner_id": 3,
        "currency_id": 161,
        "id": 16,
        "currency": {
          "currency_code": "EUR",
          "id": 161
        }
      },
      {
        "account_owner_id": 3,
        "currency_id": 37,
        "id": 17,
        "currency": {
          "currency_code": "GBP",
          "id": 37
        }
      }
    ]
  },
  "account_groups": [
    {
      "group_name": "BFX Account Group",
      "id": 1
    }
  ],
  "currency": {
    "currency_code": "GBP",
    "id": 37
  }
}

Get only enabled accounts.
GET /admin/accounts/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "account_name": "ABBM",
    "account_no": "ABBM",
    "account_owner_id": 1,
    "base_currency_id": 24,
    "custody_bank_id": 3,
    "id": 5,
    "is_nettable": true,
    "min_nettable_value_in_base_ccy": "100000.0",
    "valid_from": "2013-04-01T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "custody_bank": {
      "id": 3,
      "name": "BNYM Custody"
    },
    "account_owner": {
      "id": 1,
      "owner_name": "ABBMOwner",
      "account_owner_currencies": [
        {
          "account_owner_id": 1,
          "currency_id": 8,
          "id": 1,
          "currency": {
            "currency_code": "AUD",
            "id": 8
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 25,
          "id": 2,
          "currency": {
            "currency_code": "CAD",
            "id": 25
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 161,
          "id": 3,
          "currency": {
            "currency_code": "EUR",
            "id": 161
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 37,
          "id": 4,
          "currency": {
            "currency_code": "GBP",
            "id": 37
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 115,
          "id": 5,
          "currency": {
            "currency_code": "HKD",
            "id": 115
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 24,
          "id": 6,
          "currency": {
            "currency_code": "JPY",
            "id": 24
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 23,
          "id": 7,
          "currency": {
            "currency_code": "USD",
            "id": 23
          }
        }
      ]
    },
    "account_groups": [],
    "currency": {
      "currency_code": "JPY",
      "id": 24
    }
  }
]

Get only disabled accounts.
GET /admin/accounts/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "account_name": "ABBM",
    "account_no": "ABBM",
    "account_owner_id": 1,
    "base_currency_id": 24,
    "custody_bank_id": 3,
    "id": 5,
    "is_nettable": true,
    "min_nettable_value_in_base_ccy": "100000.0",
    "valid_from": "2013-04-01T00:00:00Z",
    "valid_thru": "2013-04-02T00:00:00Z",
    "enabled": false,
    "custody_bank": {
      "id": 3,
      "name": "BNYM Custody"
    },
    "account_owner": {
      "id": 1,
      "owner_name": "ABBMOwner",
      "account_owner_currencies": [
        {
          "account_owner_id": 1,
          "currency_id": 8,
          "id": 1,
          "currency": {
            "currency_code": "AUD",
            "id": 8
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 25,
          "id": 2,
          "currency": {
            "currency_code": "CAD",
            "id": 25
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 161,
          "id": 3,
          "currency": {
            "currency_code": "EUR",
            "id": 161
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 37,
          "id": 4,
          "currency": {
            "currency_code": "GBP",
            "id": 37
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 115,
          "id": 5,
          "currency": {
            "currency_code": "HKD",
            "id": 115
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 24,
          "id": 6,
          "currency": {
            "currency_code": "JPY",
            "id": 24
          }
        },
        {
          "account_owner_id": 1,
          "currency_id": 23,
          "id": 7,
          "currency": {
            "currency_code": "USD",
            "id": 23
          }
        }
      ]
    },
    "account_groups": [],
    "currency": {
      "currency_code": "JPY",
      "id": 24
    }
  }
]

Create a new account.
POST /admin/accounts
> Accept: application/json; text/javascript
{
  "groups": [
    81
  ],
  "account_name": "ABPI",
  "account_no": "ABPI",
  "account_owner_id": 3,
  "base_currency_id": 37,
  "custody_bank_id": 2,
  "is_nettable": true,
  "valid_from": "2013-04-1",
  "valid_thru": ""
}
< 201
< Content-Type: application/json; charset=utf-8
{
  "account_name": "ABPI",
  "account_no": "ABPI",
  "account_owner_id": 3,
  "base_currency_id": 37,
  "custody_bank_id": 3,
  "id": 2,
  "is_nettable": true,
  "min_nettable_value_in_base_ccy": "100000.0",
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "custody_bank": {
    "id": 3,
    "name": "BNYM Custody"
  },
  "account_owner": {
    "id": 3,
    "owner_name": "ABPIOwner",
    "account_owner_currencies": [
      {
        "account_owner_id": 3,
        "currency_id": 161,
        "id": 16,
        "currency": {
          "currency_code": "EUR",
          "id": 161
        }
      },
      {
        "account_owner_id": 3,
        "currency_id": 37,
        "id": 17,
        "currency": {
          "currency_code": "GBP",
          "id": 37
        }
      }
    ]
  },
  "account_groups": [
    {
      "group_name": "BFX Account Group",
      "id": 1
    }
  ],
  "currency": {
    "currency_code": "GBP",
    "id": 37
  }
}

Update an account.
PUT /admin/accounts/:id
> Accept: application/json; text/javascript
{
  "account_name": "ABPI",
  "account_no": "ABPI",
  "account_owner": 3,
  "base_currency": 37,
  "custody_bank": 3,
  "is_nettable": true,
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": "2013-04-02T00:00:00Z"
}
< 201
{
  "account_name": "ABPI",
  "account_no": "ABPI",
  "account_owner_id": 3,
  "base_currency_id": 37,
  "custody_bank_id": 3,
  "id": 2,
  "is_nettable": true,
  "min_nettable_value_in_base_ccy": "100000.0",
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": "2013-04-02T00:00:00Z",
  "enabled": false,
  "custody_bank": {
    "id": 3,
    "name": "BNYM Custody"
  },
  "account_owner": {
    "id": 3,
    "owner_name": "ABPIOwner",
    "account_owner_currencies": [
      {
        "account_owner_id": 3,
        "currency_id": 161,
        "id": 16,
        "currency": {
          "currency_code": "EUR",
          "id": 161
        }
      },
      {
        "account_owner_id": 3,
        "currency_id": 37,
        "id": 17,
        "currency": {
          "currency_code": "GBP",
          "id": 37
        }
      }
    ]
  },
  "account_groups": [
    {
      "group_name": "BFX Account Group",
      "id": 1
    }
  ],
  "currency": {
    "currency_code": "GBP",
    "id": 37
  }
}

--
Admin Client Currencies Resources
--

Get all currencies.
GET /admin/client_currencies
> Accept: application/json; text/javascript
< 304
[
  {
    "bfx_currency_id": 26,
    "id": 23,
    "valid_from": "2012-01-01T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "currency": {
      "currency_code": "AED",
      "currency_name": "UAE Dirham",
      "id": 26,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null
    }
  }
]

Get a single currency record.
GET /admin/client_currencies/:id
> Accept: application/json; text/javascript
< 200
{
  "bfx_currency_id": 97,
  "id": 10,
  "valid_from": "2013-03-04T11:11:04Z",
  "valid_thru": null,
  "enabled": true,
  "currency": {
    "currency_code": "NOK",
    "currency_name": "Norwegian Krone",
    "id": 97,
    "valid_from": "2012-01-01T00:00:00Z",
    "valid_thru": null
  }
}

Get only enabled currencies.
GET /admin/client_currencies/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "bfx_currency_id": 26,
    "id": 51,
    "valid_from": "2013-01-01T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "currency": {
      "currency_code": "AED",
      "currency_name": "UAE Dirham",
      "id": 26,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null
    }
  }
]

Get only disabled currenies.
GET /admin/client_currencies/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "bfx_currency_id": 26,
    "id": 51,
    "valid_from": "2013-01-01T00:00:00Z",
    "valid_thru": "2013-01-02T00:00:00Z",
    "enabled": false,
    "currency": {
      "currency_code": "AED",
      "currency_name": "UAE Dirham",
      "id": 26,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": "2012-02-01T00:00:00Z"
    }
  }
]

Enable/disable currencies.
PUT /admin/client_currencies/:id
> Accept: application/json; text/javascript
{
  "id": 78,
  "valid_from": "2012-01-02",
  "valid_thru": ""
}
< 201
{
  "bfx_currency_id": 81,
  "id": 78,
  "valid_from": "2012-01-02T00:00:00Z",
  "valid_thru": null,
  "enabled": true
}

--
Admin Counterparties Resources
--

Get all counterparties.
GET /admin/counterparties
> Accept: application/json; text/javascript
< 200
[
  {
    "abbreviation": "aaaq",
    "contact_name": null,
    "credit_limit": "10000000.0",
    "credit_limit_currency_id": 173,
    "id": 59,
    "name": "asdfsda",
    "phone": null,
    "valid_from": "2013-03-03T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "client_currency": {
      "bfx_currency_id": 173,
      "id": 172,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "BRL",
        "currency_name": "Brazilian Real",
        "id": 173,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  }
]

Get a single counterparty record.
GET /admin/counterparties/:id
> Accept: application/json; text/javascript
< 200
{
  "abbreviation": "BBH",
  "contact_name": null,
  "credit_limit": "1000000000.0",
  "credit_limit_currency_id": 45,
  "id": 1,
  "name": "BBH Bank",
  "phone": null,
  "valid_from": "2013-03-04T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "client_currency": {
    "bfx_currency_id": 45,
    "id": 68,
    "valid_from": "2013-01-01T00:00:00Z",
    "valid_thru": null,
    "currency": {
      "currency_code": "UYU",
      "currency_name": "Peso Uruguayo",
      "id": 45,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null
    }
  }
}

Get only enabled counterparties
GET /admin/counterparties/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "abbreviation": "aaaq",
    "contact_name": null,
    "credit_limit": "10000000.0",
    "credit_limit_currency_id": 173,
    "id": 59,
    "name": "asdfsda",
    "phone": null,
    "valid_from": "2013-03-03T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "client_currency": {
      "bfx_currency_id": 173,
      "id": 172,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "BRL",
        "currency_name": "Brazilian Real",
        "id": 173,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  }
]

Get only disabled counterparties
GET /admin/counterparties/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "abbreviation": "aaaq",
    "contact_name": null,
    "credit_limit": "10000000.0",
    "credit_limit_currency_id": 173,
    "id": 59,
    "name": "asdfsda",
    "phone": null,
    "valid_from": "2013-03-03T00:00:00Z",
    "valid_thru": null,
    "enabled": false,
    "client_currency": {
      "bfx_currency_id": 173,
      "id": 172,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "BRL",
        "currency_name": "Brazilian Real",
        "id": 173,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": "2012-02-01T00:00:00Z"
      }
    }
  }
]

Create a new counterparty.
POST /admin/counterparties
> Accept: application/json; text/javascript
{
  "abbreviation": "CPTY2",
  "credit_limit": "5000000.00",
  "credit_limit_currency_id": 23,
  "name": "Counterparty2",
  "valid_from": "2013-03-30T00:00:00Z",
  "valid_thru": null
}
< 201
< Content-Type: application/json; charset=utf-8
[
  {
    "abbreviation": "CPTY2",
    "contact_name": null,
    "credit_limit": "5000000.0",
    "credit_limit_currency_id": 23,
    "id": 104,
    "name": "Counterparty2",
    "phone": null,
    "valid_from": "2013-03-30T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "client_currency": {
      "bfx_currency_id": 23,
      "id": 20,
      "valid_from": "2013-03-07T00:00:00Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "USD",
        "currency_name": "US Dollar",
        "id": 23,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  }
]

Update an attitribute on an existing counterparty.
PUT /admin/counterparties/:id
> Accept: application/json; text/javascript
{
  "abbreviation": "CPTY2",
  "credit_limit": "7000000.0",
  "credit_limit_currency_id": 26,
  "id": 104,
  "name": "Counterparty2",
  "valid_from": "2013-04-02T00:00:00Z",
  "valid_thru": null
}
< 201
{
  "abbreviation": "CPTY2",
  "contact_name": null,
  "credit_limit": "7000000.0",
  "credit_limit_currency_id": 26,
  "id": 104,
  "name": "Counterparty2",
  "phone": null,
  "valid_from": "2013-04-02T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "client_currency": {
    "bfx_currency_id": 26,
    "id": 23,
    "valid_from": "2012-01-01T00:00:00Z",
    "valid_thru": null,
    "currency": {
        "currency_code": "AED",
        "currency_name": "UAE Dirham",
        "id": 26,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
    }
  }
}

--
Admin Custodians Resources
--

Get all custodians
GET /admin/custody_banks
> Accept: application/json; text/javascript
< 304
[
  {
    "abbreviation": "CNB",
    "contact_name": null,
    "id": 5,
    "name": "Crispy Nugget Bank",
    "phone": null,
    "valid_from": "2013-01-28T00:00:00Z",
    "valid_thru": null,
    "enabled": true
  }
]

Get a single custodian record.
GET /admin/custody_banks/:id
> Accept: application/json; text/javascript
< 200
{
  "abbreviation": "BBHCust",
  "bank_id": 1,
  "contact_name": null,
  "id": 1,
  "name": "BBH Custody",
  "phone": null,
  "trade_away_fee_usd": 50,
  "valid_from": "2013-03-04T00:00:00Z",
  "valid_thru": null,
  "enabled": true
}

Get only enabled custodians
GET /admin/custody_banks/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "abbreviation": "CNB",
    "contact_name": null,
    "id": 5,
    "name": "Crispy Nugget Bank",
    "phone": null,
    "valid_from": "2013-01-28T00:00:00Z",
    "valid_thru": null,
    "enabled": true
  }
]

Get only disabled custodians
GET /admin/custody_banks/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "abbreviation": "CNB",
    "contact_name": null,
    "id": 5,
    "name": "Crispy Nugget Bank",
    "phone": null,
    "valid_from": "2013-01-28T00:00:00Z",
    "valid_thru": "2013-02-28T00:00:00Z"
    "enabled": false
  }
]

Create a new custodian.
POST /admin/custody_banks
> Accept: application/json; text/javascript
{
  "abbreviation": "TTB",
  "name": "Testing Bank",
  "valid_from": "2013-03-30",
  "valid_thru": ""
}
< 201
{
  "abbreviation": "TTB",
  "contact_name": null,
  "id": 7,
  "name": "Testing Bank",
  "phone": null,
  "valid_from": "2013-03-30T00:00:00Z",
  "valid_thru": null,
  "enabled": true
}

Update a custodian.
PUT /admin/custody_banks/:id
> Accept: application/json; text/javascript
{
  "abbreviation": "TTBB",
  "name": "Testing Bank",
  "valid_from": "2013-03-31",
  "valid_thru": ""
}
< 201
{
  "abbreviation": "TTBB",
  "contact_name": null,
  "id": 7,
  "name": "Testing Bank",
  "phone": null,
  "valid_from": "2013-03-31T00:00:00Z",
  "valid_thru": null,
  "enabled": true
}

--
Admin Account Owners Resources
--

Get all Account Owners.
GET /admin/owners
> Accept: application/json; text/javascript
< 200
[
  {
    "id": 1,
    "owner_name": "ABBMOwner"
  },
  {
    "id": 3,
    "owner_name": "ABPIOwner"
  }
]

Get a single Account Owner record.
GET /admin/owners/:id
> Accept: application/json; text/javascript
< 200
{
  "id": 1,
  "owner_name": "ABBMOwner",
  "owner_short_code": "ABBMO",
  "valid_from": "2013-03-04T00:00:00Z",
  "valid_thru": null,
  "banks": [
    {
      "abbreviation": "BNYM",
      "contact_name": null,
      "credit_limit": "1000000000.0",
      "credit_limit_currency_id": 26,
      "id": 3,
      "name": "BNYM Bank",
      "phone": null,
      "valid_from": "2013-03-05T00:00:00Z",
      "valid_thru": null
    }
  ],
  "client_currencies": [
    {
      "bfx_currency_id": 8,
      "id": 1,
      "valid_from": "2013-03-04T11:06:57Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "AUD",
        "currency_name": "Australian Dollar",
        "id": 8,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    },
    {
      "bfx_currency_id": 25,
      "id": 2,
      "valid_from": "2013-03-04T11:07:40Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "CAD",
        "currency_name": "Canadian Dollar",
        "id": 25,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  ]
}

Get only enabled Account Owners.
GET /admin/owners/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "id": 4,
    "owner_name": "Buyside",
    "owner_short_code": "BFX",
    "valid_from": "2013-02-19T11:17:00Z",
    "valid_thru": null,
    "banks": [
      {
        "abbreviation": "NM",
        "contact_name": null,
        "credit_limit": null,
        "credit_limit_currency_id": null,
        "id": 8,
        "name": "Nomura",
        "phone": null,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      },
      {
        "abbreviation": "JPM",
        "contact_name": null,
        "credit_limit": null,
        "credit_limit_currency_id": null,
        "id": 10,
        "name": "JPMorgan Chase",
        "phone": null,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    ],
    "client_currencies": [
      {
        "bfx_currency_id": 161,
        "id": 160,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null,
        "currency": {
          "currency_code": "EUR",
          "currency_name": "Euro",
          "id": 161,
          "valid_from": "2012-01-01T00:00:00Z",
          "valid_thru": null
        }
      }
    ]
  }
]

Get only disabled Account Owners.
GET /admin/owners/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "id": 4,
    "owner_name": "Buyside",
    "owner_short_code": "BFX",
    "valid_from": "2013-02-19T11:17:00Z",
    "valid_thru": "2013-02-19T11:17:00Z",
    "banks": [
      {
        "abbreviation": "NM",
        "contact_name": null,
        "credit_limit": null,
        "credit_limit_currency_id": null,
        "id": 8,
        "name": "Nomura",
        "phone": null,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      },
      {
        "abbreviation": "JPM",
        "contact_name": null,
        "credit_limit": null,
        "credit_limit_currency_id": null,
        "id": 10,
        "name": "JPMorgan Chase",
        "phone": null,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    ],
    "client_currencies": [
      {
        "bfx_currency_id": 161,
        "id": 160,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null,
        "currency": {
          "currency_code": "EUR",
          "currency_name": "Euro",
          "id": 161,
          "valid_from": "2012-01-01T00:00:00Z",
          "valid_thru": null
        }
      }
    ]
  }
]

Create a new Account Owner.
POST /admin/owners
> Accept: application/json; text/javascript
{
  "counterparties": [
    94
  ],
  "currencies": [
    161
  ],
  "owner_name": "Owner4",
  "owner_short_code": "OWN4",
  "valid_from": "2013-04-01",
  "valid_thru": ""
}
< 201
{
  "id": 19,
  "owner_name": "Owner4",
  "owner_short_code": "OWN4",
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": null,
  "banks": [
    {
      "abbreviation": "BANK4",
      "contact_name": null,
      "credit_limit": "10000000.0",
      "credit_limit_currency_id": 23,
      "id": 94,
      "name": "BANK4",
      "phone": null,
      "valid_from": "2013-03-12T00:00:00Z",
      "valid_thru": null
    }
  ],
  "client_currencies": [
    {
      "bfx_currency_id": 161,
      "id": 160,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "EUR",
        "currency_name": "Euro",
        "id": 161,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  ]
}

Update an Account Owner.
PUT /admin/owners/:id
> Accept: application/json; text/javascript
{
  "counterparties": [
    94
  ],
  "currencies": [
    161
  ],
  "owner_name": "Owner4",
  "owner_short_code": "OWN4",
  "valid_from": "2013-04-02",
  "valid_thru": ""
}
< 201
{
  "id": 19,
  "owner_name": "Owner4",
  "owner_short_code": "OWN4",
  "valid_from": "2013-04-02T00:00:00Z",
  "valid_thru": null,
  "banks": [
    {
      "abbreviation": "BANK4",
      "contact_name": null,
      "credit_limit": "10000000.0",
      "credit_limit_currency_id": 23,
      "id": 94,
      "name": "BANK4",
      "phone": null,
      "valid_from": "2013-03-12T00:00:00Z",
      "valid_thru": null
    }
  ],
  "client_currencies": [
    {
      "bfx_currency_id": 161,
      "id": 160,
      "valid_from": "2012-01-01T00:00:00Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "EUR",
        "currency_name": "Euro",
        "id": 161,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  ]
}


--
Admin Users Resources
--

Get all users.
GET /admin/users
> Accept: application/json; text/javascript
< 200
[
  {
    "id": 21,
    "email": "anelson@buysidefx.com",
    "full_name": "Admirel Nelson",
    "role": "super admin",
    "phone": null,
    "valid_from": "2013-01-27T11:32:00Z",
    "valid_thru": null,
    "user_groups": [
      {
        "group_name": "User s",
        "group_type_id": 33,
        "id": 49,
        "valid_from": "2013-01-10T04:11:00Z",
        "valid_thru": null
      },
      {
        "group_name": "BFX User Group",
        "group_type_id": 33,
        "id": 38,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Get a single User record.
GET /admin/users/:id
> Accept: application/json; text/javascript
< 200
{
  "created_at": "2013-03-28T20:50:56Z",
  "customer_id": null,
  "email": "greg@bfxsandbox.com",
  "full_name": "Greg Grillone",
  "id": 1,
  "phone": null,
  "role": "admin",
  "settings": {
    "font_size": "Small",
    "timezone_display": "(GMT-04:00) Eastern Time (US & Canada)",
    "timezone_offset": "-04:00",
    "timezone_abbreviation": "EDT"
  },
  "updated_at": "2013-04-05T15:12:04Z",
  "valid_from": "2013-03-25T20:50:52Z",
  "valid_thru": null,
  "user_groups": []
}

Get only enabled users.
GET /admin/users/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "id": 21,
    "email": "anelson@buysidefx.com",
    "full_name": "Admirel Nelson",
    "role": "super admin",
    "phone": null,
    "valid_from": "2013-01-27T11:32:00Z",
    "valid_thru": null,
    "user_groups": [
      {
        "group_name": "User s",
        "group_type_id": 33,
        "id": 49,
        "valid_from": "2013-01-10T04:11:00Z",
        "valid_thru": null
      },
      {
        "group_name": "BFX User Group",
        "group_type_id": 33,
        "id": 38,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Get only disabled users.
GET /admin/users/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "id": 21,
    "email": "anelson@buysidefx.com",
    "full_name": "Admirel Nelson",
    "role": "super admin",
    "phone": null,
    "valid_from": "2013-01-27T11:32:00Z",
    "valid_thru": "2013-01-27T11:32:00Z",
    "user_groups": [
      {
        "group_name": "User s",
        "group_type_id": 33,
        "id": 49,
        "valid_from": "2013-01-10T04:11:00Z",
        "valid_thru": null
      },
      {
        "group_name": "BFX User Group",
        "group_type_id": 33,
        "id": 38,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Create a new user.
POST /admin/users
> Accept: application/json; text/javascript
{
  "email": "jon.james@buysidefx.com",
  "full_name": "Jon James",
  "phone": null,
  "role": "admin",
  "groups": [
    38
  ],
  "valid_from": "2013-04-01",
  "valid_thru": ""
}
< 201
[
  {
    "id": 25,
    "email": "jon.james@buysidefx.com",
    "full_name": "Jon James",
    "role": "admin",
    "phone": null,
    "valid_from": "2013-04-01T00:00:00Z",
    "valid_thru": null,
    "user_groups": [
      {
        "group_name": "BFX User Group",
        "group_type_id": 33,
        "id": 38,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      }
    ]
  }
]



Update a user profile. This only includes enabling/disabling.
PUT /admin/users/:id
> Accept: application/json; text/javascript
{
  "id": 24,
  "valid_from": "2013-04-02",
  "valid_thru": ""
}
< 201
[
  {
    "id": 25,
    "email": "jon.james@buysidefx.com",
    "full_name": "Jon James",
    "role": "admin",
    "phone": null,
    "valid_from": "2013-04-02T00:00:00Z",
    "valid_thru": null,
    "user_groups": [
      {
        "group_name": "BFX User Group",
        "group_type_id": 33,
        "id": 38,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

--
Admin Venues Resources
--

Get all venues.
GET /admin/venues
> Accept: application/json; text/javascript
< 200
[
  {
    "contact_name": "Greg",
    "id": 2,
    "name": "Barclays",
    "phone": "8021231234",
    "valid_from": "2012-01-01T00:00:00Z",
    "valid_thru": null,
    "venue_short_code": "BARX"
  }
]

Get a single venue record.
GET /admin/venues/:id
> Accept: application/json; text/javascript
< 200
{
  "contact_name": "Jane Brown",
  "id": 1,
  "name": "Single Dealer",
  "phone": "9175923729",
  "valid_from": "2013-03-03T00:00:00Z",
  "valid_thru": null,
  "venue_short_code": "SDP"
}

Get only enabled venues.
GET /admin/venues/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "contact_name": "Greg",
    "id": 2,
    "name": "Barclays",
    "phone": "8021231234",
    "valid_from": "2012-01-01T00:00:00Z",
    "valid_thru": null,
    "venue_short_code": "BARX"
  }
]

Get only disabled venues.
GET /admin/venues/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "contact_name": "Greg",
    "id": 2,
    "name": "Barclays",
    "phone": "8021231234",
    "valid_from": "2012-01-01T00:00:00Z",
    "valid_thru": "2012-01-01T00:00:00Z",
    "venue_short_code": "BARX"
  }
]

Create a venue.
POST /admin/venues
> Accept: application/json; text/javascript
{
  "contact_name": "Some dude",
  "name": "Test Venue",
  "phone": 1112221234,
  "valid_from": "2013-03-31",
  "valid_thru": "",
  "venue_short_code": "TVV"
}
< 201
{
  "contact_name": "Some dude",
  "id": 8,
  "name": "Test Venue",
  "phone": "1112221234",
  "valid_from": "2013-03-31T00:00:00Z",
  "valid_thru": null,
  "venue_short_code": "TVV"
}

Update a venue.
PUT /admin/venues/:id
> Accept: application/json; text/javascript
{
  "contact_name": "Some dude",
  "id": 8,
  "phone": 1112221234,
  "valid_from": "2013-04-30",
  "valid_thru": ""
}
< 201
{
  "contact_name": "Some dude",
  "id": 8,
  "name": "Test Venue",
  "phone": "1112221234",
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": null,
  "venue_short_code": "TVV"
}

--
Admin Group Resources
--

Get all groups. This only returns the group names, not the members in the group.
GET /admin/groups
> Accept: application/json; text/javascript
< 200
[
  {
      "group_name": "Sandbox Act Owners",
      "group_type_id": 32,
      "id": 6,
      "valid_from": "2013-04-05T00:00:00Z",
      "valid_thru": null,
      "group_type": {
        "group_type_description": "This is for creating account owner groups",
        "group_type_name": "Account Owners",
        "id": 32,
        "lookup_columns": "id,owner_short_code,owner_name",
        "lookup_table_name": "account_owners"
      }
  },
  {
      "group_name": "BFX Account Group",
      "group_type_id": 31,
      "id": 1,
      "valid_from": "2013-04-05T00:00:00Z",
      "valid_thru": null,
      "enabled": true,
      "group_type": {
        "group_type_description": "This is for creating account groups",
        "group_type_name": "Accounts",
        "id": 31,
        "lookup_columns": "id,account_no,account_name",
        "lookup_table_name": "accounts"
      }
  },
  {
      "group_name": "Bfx Counterparties",
      "group_type_id": 34,
      "id": 7,
      "valid_from": "2013-04-05T00:00:00Z",
      "valid_thru": null,
      "enabled": true,
      "group_type": {
        "group_type_description": "This is for Counterparty Groups",
        "group_type_name": "Counterparties",
        "id": 34,
        "lookup_columns": "banks.id,banks.abbreviation,banks.name",
        "lookup_table_name": "banks"
      }
  },
  {
      "group_name": "BFX CCYs",
      "group_type_id": 30,
      "id": 11,
      "valid_from": "2013-04-05T00:00:00Z",
      "valid_thru": null,
      "enabled": true,
      "group_type": {
        "group_type_description": "This is for creating currency groups",
        "group_type_name": "Currency",
        "id": 30,
        "lookup_columns": "id,currency_code,currency_name",
        "lookup_table_name": "currencies"
      }
  },
  {
      "group_name": "BFX users",
      "group_type_id": 33,
      "id": 14,
      "valid_from": "2013-04-05T00:00:00Z",
      "valid_thru": null,
      "enabled": true,
      "group_type": {
        "group_type_description": "This is for Users Groups",
        "group_type_name": "Users",
        "id": 33,
        "lookup_columns": "users.full_name,users.role,users.email",
        "lookup_table_name": "users"
      }
  }
]

Create a new group.
POST /admin/groups
> Accept: application/json; text/javascript
{
  "group_name": "Das ACT Group",
  "group_type_id": 31,
  "members": [
    30
  ],
  "valid_from": "2013-04-1",
  "valid_thru": ""
}
< 201
{
  "group_name": "Das ACT Group",
  "group_type_id": 31,
  "id": 85,
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "group_type": {
    "group_type_description": "This is for creating account groups",
    "group_type_name": "Accounts",
    "id": 31,
    "lookup_columns": "id,account_no,account_name",
    "lookup_table_name": "accounts"
  },
  "accounts": [
    {
      "account_name": "SJ10",
      "account_no": "SJ10",
      "account_owner_id": 1,
      "base_currency_id": 23,
      "custody_bank_id": 1,
      "id": 30,
      "is_nettable": true,
      "valid_from": "2013-01-01T00:00:00Z",
      "valid_thru": null
    }
  ]
}

Update a group
PUT /admin/groups/:id
> Accept: application/json; text/javascript
{
  "id": 85,
  "members": [
    33
  ],
  "valid_from": "2013-04-02",
  "valid_thru": ""
}
< 201
{
  "group_name": "Das ACT Group",
  "group_type_id": 31,
  "id": 85,
  "valid_from": "2013-04-02T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "group_type": {
    "group_type_description": "This is for creating account groups",
    "group_type_name": "Accounts",
    "id": 31,
    "lookup_columns": "id,account_no,account_name",
    "lookup_table_name": "accounts"
  },
  "accounts": [
    {
      "account_name": "SJ38",
      "account_no": "SJ38",
      "account_owner_id": 1,
      "base_currency_id": 23,
      "custody_bank_id": 1,
      "id": 33,
      "is_nettable": true,
      "valid_from": "2013-01-01T00:00:00Z",
      "valid_thru": null
    }
  ]
}

--
Admin Acccount Group Resources
--

Get all Account groups including all the members in each group.
GET /admin/groups/accounts
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "aaaaaaaaaaa",
    "group_type_id": 31,
    "id": 52,
    "valid_from": "2013-01-10T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for creating account groups",
      "group_type_name": "Accounts",
      "id": 31,
      "lookup_columns": "id,account_no,account_name",
      "lookup_table_name": "accounts"
    },
    "accounts": [
      {
        "account_name": "Passive Non-US Equity",
        "account_no": "SWB3",
        "account_owner_id": 1,
        "base_currency_id": 23,
        "custody_bank_id": 1,
        "id": 20,
        "is_nettable": true,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      },
      {
        "account_name": "CalPERS Internal High Yield Corporates",
        "account_no": "SW2Y",
        "account_owner_id": 1,
        "base_currency_id": 23,
        "custody_bank_id": 1,
        "id": 35,
        "is_nettable": false,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": "2013-01-26T12:00:00Z"
      }
    ]
  }
]

Get a single Account group including all the members in the group.
GET /admin/groups/accounts/:id
> Accept: application/json; text/javascript
< 200
{
  "group_name": "BFX Account Group",
  "group_type_id": 31,
  "id": 1,
  "valid_from": "2013-04-05T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "group_type": {
    "group_type_description": "This is for creating account groups",
    "group_type_name": "Accounts",
    "id": 31,
    "lookup_columns": "id,account_no,account_name",
    "lookup_table_name": "accounts"
  },
  "accounts": [
    {
      "account_name": "ABPI",
      "account_no": "ABPI",
      "account_owner_id": 3,
      "base_currency_id": 161,
      "custody_bank_id": 3,
      "id": 2,
      "is_nettable": true,
      "min_nettable_value_in_base_ccy": "100000.0",
      "valid_from": "2013-03-04T00:00:00Z",
      "valid_thru": null
    }
  ]
}

Get enabled Account groups only including all the members in each group.
GET /admin/groups/accounts/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "aaaaaaaaaaa",
    "group_type_id": 31,
    "id": 52,
    "valid_from": "2013-01-10T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for creating account groups",
      "group_type_name": "Accounts",
      "id": 31,
      "lookup_columns": "id,account_no,account_name",
      "lookup_table_name": "accounts"
    },
    "accounts": [
      {
        "account_name": "Passive Non-US Equity",
        "account_no": "SWB3",
        "account_owner_id": 1,
        "base_currency_id": 23,
        "custody_bank_id": 1,
        "id": 20,
        "is_nettable": true,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      },
      {
        "account_name": "CalPERS Internal High Yield Corporates",
        "account_no": "SW2Y",
        "account_owner_id": 1,
        "base_currency_id": 23,
        "custody_bank_id": 1,
        "id": 35,
        "is_nettable": false,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": "2013-01-26T12:00:00Z"
      }
    ]
  }
]

Get disabled Account groups only including all the members in each group.
GET /admin/groups/accounts/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "aaaaaaaaaaa",
    "group_type_id": 31,
    "id": 52,
    "valid_from": "2013-01-10T00:00:00Z",
    "valid_thru": "2013-01-10T00:00:00Z",
    "enabled": false,
    "group_type": {
      "group_type_description": "This is for creating account groups",
      "group_type_name": "Accounts",
      "id": 31,
      "lookup_columns": "id,account_no,account_name",
      "lookup_table_name": "accounts"
    },
    "accounts": [
      {
        "account_name": "Passive Non-US Equity",
        "account_no": "SWB3",
        "account_owner_id": 1,
        "base_currency_id": 23,
        "custody_bank_id": 1,
        "id": 20,
        "is_nettable": true,
        "valid_from": "2013-02-01T12:00:00Z",
        "valid_thru": null
      },
      {
        "account_name": "CalPERS Internal High Yield Corporates",
        "account_no": "SW2Y",
        "account_owner_id": 1,
        "base_currency_id": 23,
        "custody_bank_id": 1,
        "id": 35,
        "is_nettable": false,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": "2013-01-26T12:00:00Z"
      }
    ]
  }
]

--
Admin Acccount Owner Group Resources
--

Get all Account Owner groups including all the members in each group.
GET /admin/groups/account_owners
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "afsdsdfsd",
    "group_type_id": 32,
    "id": 64,
    "valid_from": "2013-01-31T04:01:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for creating account owner groups",
      "group_type_name": "Account Owners",
      "id": 32,
      "lookup_columns": "id,owner_short_code,owner_name",
      "lookup_table_name": "account_owners"
    },
    "account_owners": [
      {
        "id": 1,
        "owner_name": "CalPERS",
        "owner_short_code": "CalPERS",
        "valid_from": "2013-01-01T00:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Get a single Account Owner group record including all the members in the group.
GET /admin/groups/account_owners/:id
> Accept: application/json; text/javascript
< 200
{
  "group_name": "Act Owner Group",
  "group_type_id": 32,
  "id": 4,
  "valid_from": "2013-04-03T00:00:00Z",
  "valid_thru": "2013-04-04T00:00:00Z",
  "group_type": {
    "group_type_description": "This is for creating account owner groups",
    "group_type_name": "Account Owners",
    "id": 32,
    "lookup_columns": "id,owner_short_code,owner_name",
    "lookup_table_name": "account_owners"
  },
  "account_owners": [
    {
      "id": 1,
      "owner_name": "ABBMOwner",
      "owner_short_code": "ABBMO",
      "valid_from": "2013-03-04T00:00:00Z",
      "valid_thru": null
    }
  ]
}

Get enabled Account Owner groups only including all the members in each group.
GET /admin/groups/account_owners/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "afsdsdfsd",
    "group_type_id": 32,
    "id": 64,
    "valid_from": "2013-01-31T04:01:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for creating account owner groups",
      "group_type_name": "Account Owners",
      "id": 32,
      "lookup_columns": "id,owner_short_code,owner_name",
      "lookup_table_name": "account_owners"
    },
    "account_owners": [
      {
        "id": 1,
        "owner_name": "CalPERS",
        "owner_short_code": "CalPERS",
        "valid_from": "2013-01-01T00:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Get disabled Account Owner groups only including all the members in each group.
GET /admin/groups/account_owners/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "afsdsdfsd",
    "group_type_id": 32,
    "id": 64,
    "valid_from": "2013-01-31T04:01:00Z",
    "valid_thru": "2013-01-31T04:01:00Z",
    "enabled": false,
    "group_type": {
      "group_type_description": "This is for creating account owner groups",
      "group_type_name": "Account Owners",
      "id": 32,
      "lookup_columns": "id,owner_short_code,owner_name",
      "lookup_table_name": "account_owners"
    },
    "account_owners": [
      {
        "id": 1,
        "owner_name": "CalPERS",
        "owner_short_code": "CalPERS",
        "valid_from": "2013-01-01T00:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

--
Admin User Group Resources
--

Get all User groups including all the members in each group.
GET /admin/groups/users
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "BFX User Group",
    "group_type_id": 33,
    "id": 38,
    "valid_from": "2013-02-01T12:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for Users Groups",
      "group_type_name": "Users",
      "id": 33,
      "lookup_columns": "users.full_name,users.role,users.email",
      "lookup_table_name": "users"
    },
    "users": [
      {
        "created_at": "2013-01-09T17:38:34Z",
        "customer_id": null,
        "email": "ggrillone@buysidefx.com",
        "full_name": "Greg Grillone",
        "id": 2,
        "phone": 8399393933,
        "role": "admin",
        "settings": {
          "font_size": "Small"
        },
        "updated_at": "2013-03-06T22:05:18Z",
        "valid_from": "2013-02-02T12:00:00Z",
        "valid_thru": "2013-02-08T12:00:00Z"
      }
    ]
  }
]

Get a single User group record including all the members in the group.
GET  /admin/groups/users/:id
> Accept: application/json; text/javascript
< 200
{
  "group_name": "Random Users",
  "group_type_id": 33,
  "id": 16,
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": "2013-04-02T00:00:00Z",
  "enabled": false,
  "group_type": {
    "group_type_description": "This is for Users Groups",
    "group_type_name": "Users",
    "id": 33,
    "lookup_columns": "users.full_name,users.role,users.email",
    "lookup_table_name": "users"
  },
  "users": [
    {
      "created_at": "2013-03-28T20:56:10Z",
      "customer_id": null,
      "email": "gonzalo@bfxsandbox.com",
      "full_name": "Gonzalo Santome",
      "id": 2,
      "phone": null,
      "role": "admin",
      "settings": {
        "font_size": "Small",
        "timezone_display": "(GMT-02:00) Buenos Aires",
        "timezone_offset": "-02:00",
        "timezone_abbreviation": "ART"
      },
      "updated_at": "2013-04-04T20:54:08Z",
      "valid_from": "2013-03-25T20:57:42Z",
      "valid_thru": null
    }
  ]
}

Get enabled User groups only.
GET /admin/groups/users/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "BFX User Group",
    "group_type_id": 33,
    "id": 38,
    "valid_from": "2013-02-01T12:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for Users Groups",
      "group_type_name": "Users",
      "id": 33,
      "lookup_columns": "users.full_name,users.role,users.email",
      "lookup_table_name": "users"
    },
    "users": [
      {
        "created_at": "2013-01-09T17:38:34Z",
        "customer_id": null,
        "email": "ggrillone@buysidefx.com",
        "full_name": "Greg Grillone",
        "id": 2,
        "phone": 8399393933,
        "role": "admin",
        "settings": {
          "font_size": "Small"
        },
        "updated_at": "2013-03-06T22:05:18Z",
        "valid_from": "2013-02-02T12:00:00Z",
        "valid_thru": "2013-02-08T12:00:00Z"
      }
    ]
  }
]

Get disabled User groups only including all the members in each group.
GET /admin/groups/users/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "BFX User Group",
    "group_type_id": 33,
    "id": 38,
    "valid_from": "2013-02-01T12:00:00Z",
    "valid_thru": "2013-02-01T12:00:00Z",
    "enabled": false,
    "group_type": {
      "group_type_description": "This is for Users Groups",
      "group_type_name": "Users",
      "id": 33,
      "lookup_columns": "users.full_name,users.role,users.email",
      "lookup_table_name": "users"
    },
    "users": [
      {
        "created_at": "2013-01-09T17:38:34Z",
        "customer_id": null,
        "email": "ggrillone@buysidefx.com",
        "full_name": "Greg Grillone",
        "id": 2,
        "phone": 8399393933,
        "role": "admin",
        "settings": {
          "font_size": "Small"
        },
        "updated_at": "2013-03-06T22:05:18Z",
        "valid_from": "2013-02-02T12:00:00Z",
        "valid_thru": "2013-02-08T12:00:00Z"
      }
    ]
  }
]

--
Admin Counterparty Group Resources
--

Get all Counterparty groups including all the members in each group.
GET /admin/groups/counterparties
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "bankzzz",
    "group_type_id": 34,
    "id": 67,
    "valid_from": "2013-01-10T04:28:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for Counterparty Groups",
      "group_type_name": "Counterparties",
      "id": 34,
      "lookup_columns": "banks.id,banks.abbreviation,banks.name",
      "lookup_table_name": "banks"
    },
    "banks": [
      {
        "abbreviation": "WESTPAC",
        "contact_name": null,
        "credit_limit": "0.0",
        "credit_limit_currency_id": 81,
        "id": 40,
        "name": "Westpac Group",
        "phone": null,
        "valid_from": "2013-03-11T00:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Get a single Counterparty group record including all the members in the group.
GET /admin/groups/counterparties/:id
> Accept: application/json; text/javascript
< 200
{
  "group_name": "Random Banks",
  "group_type_id": 34,
  "id": 10,
  "valid_from": "2013-04-01T00:00:00Z",
  "valid_thru": "2013-04-02T00:00:00Z",
  "enabled": false,
  "group_type": {
    "group_type_description": "This is for Counterparty Groups",
    "group_type_name": "Counterparties",
    "id": 34,
    "lookup_columns": "banks.id,banks.abbreviation,banks.name",
    "lookup_table_name": "banks"
  },
  "banks": [
    {
      "abbreviation": "CIBC",
      "contact_name": null,
      "credit_limit": "1000000000.0",
      "credit_limit_currency_id": 25,
      "id": 4,
      "name": "CIBC Bank",
      "phone": null,
      "valid_from": "2013-03-04T00:00:00Z",
      "valid_thru": null
    }
  ]
}

Get enabled Counterparty groups only including all the members in each group.
GET /admin/groups/counterparties/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "bankzzz",
    "group_type_id": 34,
    "id": 67,
    "valid_from": "2013-01-10T04:28:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for Counterparty Groups",
      "group_type_name": "Counterparties",
      "id": 34,
      "lookup_columns": "banks.id,banks.abbreviation,banks.name",
      "lookup_table_name": "banks"
    },
    "banks": [
      {
        "abbreviation": "WESTPAC",
        "contact_name": null,
        "credit_limit": "0.0",
        "credit_limit_currency_id": 81,
        "id": 40,
        "name": "Westpac Group",
        "phone": null,
        "valid_from": "2013-03-11T00:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

Get disabled Counterparty groups only including all the members in each group.
GET /admin/groups/counterparties/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "bankzzz",
    "group_type_id": 34,
    "id": 67,
    "valid_from": "2013-01-10T04:28:00Z",
    "valid_thru": "2013-01-10T04:28:00Z",
    "enabled": false,
    "group_type": {
      "group_type_description": "This is for Counterparty Groups",
      "group_type_name": "Counterparties",
      "id": 34,
      "lookup_columns": "banks.id,banks.abbreviation,banks.name",
      "lookup_table_name": "banks"
    },
    "banks": [
      {
        "abbreviation": "WESTPAC",
        "contact_name": null,
        "credit_limit": "0.0",
        "credit_limit_currency_id": 81,
        "id": 40,
        "name": "Westpac Group",
        "phone": null,
        "valid_from": "2013-03-11T00:00:00Z",
        "valid_thru": null
      }
    ]
  }
]

--
Admin Currency Group Resources
--

Get all Currency groups including all the members in each group.
GET /admin/groups/currencies
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "Americas",
    "group_type_id": 30,
    "id": 2,
    "valid_from": "2013-01-01T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for creating currency groups",
      "group_type_name": "Currency",
      "id": 30,
      "lookup_columns": "id,currency_code,currency_name",
      "lookup_table_name": "currencies"
    },
    "client_currencies": [
      {
        "bfx_currency_id": 4,
        "id": 1,
        "valid_from": "2013-03-01T00:00:00Z",
        "valid_thru": null,
        "currency": {
          "currency_code": "PEN",
          "currency_name": "Nuevo Sol",
          "id": 4,
          "valid_from": "2012-01-01T00:00:00Z",
          "valid_thru": null
        }
      }
    ]
  }
]

Get a single Curency group record including all the members in the group.
GET /admin/groups/currencies/:id
> Accept: application/json; text/javascript
< 200
{
  "group_name": "BFX CCYs",
  "group_type_id": 30,
  "id": 11,
  "valid_from": "2013-04-05T00:00:00Z",
  "valid_thru": null,
  "enabled": true,
  "group_type": {
    "group_type_description": "This is for creating currency groups",
    "group_type_name": "Currency",
    "id": 30,
    "lookup_columns": "id,currency_code,currency_name",
    "lookup_table_name": "currencies"
  },
  "client_currencies": [
    {
      "bfx_currency_id": 97,
      "id": 10,
      "valid_from": "2013-03-04T11:11:04Z",
      "valid_thru": null,
      "currency": {
        "currency_code": "NOK",
        "currency_name": "Norwegian Krone",
        "id": 97,
        "valid_from": "2012-01-01T00:00:00Z",
        "valid_thru": null
      }
    }
  ]
}

Get enabled Currency groups only including all the members in each group.
GET /admin/groups/currencies/enabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "Americas",
    "group_type_id": 30,
    "id": 2,
    "valid_from": "2013-01-01T00:00:00Z",
    "valid_thru": null,
    "enabled": true,
    "group_type": {
      "group_type_description": "This is for creating currency groups",
      "group_type_name": "Currency",
      "id": 30,
      "lookup_columns": "id,currency_code,currency_name",
      "lookup_table_name": "currencies"
    },
    "client_currencies": [
      {
        "bfx_currency_id": 4,
        "id": 1,
        "valid_from": "2013-03-01T00:00:00Z",
        "valid_thru": null,
        "currency": {
          "currency_code": "PEN",
          "currency_name": "Nuevo Sol",
          "id": 4,
          "valid_from": "2012-01-01T00:00:00Z",
          "valid_thru": null
        }
      }
    ]
  }
]

Get disabled Currency groups only including all the members in each group.
GET /admin/groups/currencies/disabled
> Accept: application/json; text/javascript
< 200
[
  {
    "group_name": "Americas",
    "group_type_id": 30,
    "id": 2,
    "valid_from": "2013-01-01T00:00:00Z",
    "valid_thru": null,
    "enabled": false,
    "group_type": {
      "group_type_description": "This is for creating currency groups",
      "group_type_name": "Currency",
      "id": 30,
      "lookup_columns": "id,currency_code,currency_name",
      "lookup_table_name": "currencies"
    },
    "client_currencies": [
      {
        "bfx_currency_id": 4,
        "id": 1,
        "valid_from": "2013-03-01T00:00:00Z",
        "valid_thru": null,
        "currency": {
          "currency_code": "PEN",
          "currency_name": "Nuevo Sol",
          "id": 4,
          "valid_from": "2012-01-01T00:00:00Z",
          "valid_thru": null
        }
      }
    ]
  }
]